<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>x7ci | Next.js/Stitches: Handling Flash of Default Theme</title><meta name="next-head-count" content="3"/><style id="stitches">--sxs{--sxs:0 t-eYbQcn}@media{:root,.t-eYbQcn{--sizes-tileSize:30px;--sizes-navigationBarHeight:60px;--colors-rootBackground:#181923;--colors-tileUrl:url("/tile_dark.png");--colors-navigationBarBackground:rgba(153, 250, 255, .04);--colors-navigationBarIcon:var(--colors-yellow1);--colors-gray1:hsl(61, 2.0%, 8.3%);--colors-gray2:hsl(60, 3.7%, 10.6%);--colors-gray3:hsl(58, 3.7%, 13.1%);--colors-gray4:hsl(57, 3.6%, 15.3%);--colors-gray5:hsl(56, 3.7%, 17.4%);--colors-gray6:hsl(55, 3.7%, 19.9%);--colors-gray7:hsl(53, 3.7%, 23.6%);--colors-gray8:hsl(50, 3.8%, 30.6%);--colors-gray9:hsl(50, 4.0%, 42.7%);--colors-gray10:hsl(52, 3.1%, 48.3%);--colors-gray11:hsl(50, 4.0%, 61.8%);--colors-gray12:hsl(56, 4.0%, 92.8%);--colors-cyan1:rgba(153, 250, 255, 1);--colors-cyan2:rgba(153, 250, 255, .9);--colors-cyan3:rgba(153, 250, 255, .8);--colors-cyan4:rgba(153, 250, 255, .7);--colors-cyan5:rgba(153, 250, 255, .6);--colors-cyan6:rgba(153, 250, 255, .5);--colors-cyan7:rgba(153, 250, 255, .4);--colors-cyan8:rgba(153, 250, 255, .3);--colors-cyan9:rgba(153, 250, 255, .2);--colors-cyan10:rgba(153, 250, 255, .1);--colors-cyan11:rgba(153, 250, 255, .08);--colors-cyan12:rgba(153, 250, 255, .06);--colors-cyan13:rgba(153, 250, 255, .04);--colors-cyan14:rgba(153, 250, 255, .02);--colors-cyan8Opaque:#476a72;--colors-cyanLight1:rgba(222, 253, 255, 1);--colors-yellow1:rgba(252, 246, 186, 1);--colors-orange1:hsla(19, 77%, 58%, 1);--colors-orange2:hsla(19, 77%, 58%, .8);--colors-orange3:hsla(19, 77%, 58%, .6);--colors-orange4:hsla(19, 77%, 58%, .4);--colors-orange5:hsla(19, 77%, 58%, .2);--colors-red1:rgba(216, 60, 60, 1);--fonts-robotoCondensed:var(--robotoCondensed-font);--fonts-petch:var(--petch-font);--fontSizes-1:5px;--fontSizes-2:7px;--fontSizes-3:9px;--fontSizes-4:11px;--fontSizes-5:13px;--fontSizes-6:15px;--fontSizes-7:17px;--fontSizes-8:19px;--fontSizes-9:21px;--fontSizes-10:23px;--fontSizes-11:25px;--fontSizes-12:27px;--fontSizes-13:36px;--fontSizes-14:42px;--fontSizes-15:48px;--fontSizes-16:54px;--fontSizes-17:60px;--fontSizes-18:66px}}--sxs{--sxs:2 c-cIVMtn c-PJLV c-hKqPSV c-fLnflv c-clRyaO c-kIzotu c-gyrVXq PJLV c-iulrsv c-etzgqU c-feOxVA c-dDHynQ c-cpujxP c-gpipSC c-fRFjac c-kILjfr c-bZNrxE c-kEKURm c-bzinLH c-fixGjY c-fyvDCW c-glsbxu c-dJLrME c-eHZBlb c-iWskpP c-dMVkxJ c-eNcIwC c-iGFHcp c-efBci c-gTxPZB c-dvjstZ c-ldPnSK c-fIaqhA c-iaRmgM c-iuLOhP c-byBtmX c-bERzYA c-cmpvrW c-VGpiX c-kWLcyc c-dpfDj c-dpepJw c-cWBKTD c-gZOXAY c-joMVIm c-ldevfl c-iwmuDn c-bpHVNX c-kknYDB c-wyHOk c-hZhpoc c-ewvLWY c-eevVkB c-dTDied c-idkvig c-gdNyNn c-kXCpzI c-cVPBnX c-iGwwkn c-kiwSBi c-zjeLT c-ZezvN c-dhzjXW c-cjRfZB c-fYqGBW c-sDuia c-eiZNDQ c-bOUoQT c-hEUZaJ c-AsWAM c-cFqenZ c-ijjGmW c-kRcwLW c-bPNjhd c-iVekhE c-kgXuaA c-iakmyt c-siuRv c-lcPmgm c-fcTNLc c-kwsKlq c-dMLpPg c-frcwbf c-kVqXeo c-jKOUQW c-dRszAd c-jHXquU c-gbEcmg c-gbklVh c-gYLdcj c-koozQD c-kVfqKj c-cdiiwN c-gMxACW c-jflfVS}@media{.c-cIVMtn{display:flex;flex-direction:column;margin:var(--sizes-tileSize)}.c-hKqPSV{display:flex;flex-direction:column;justify-content:space-between;position:relative}.c-fLnflv{position:absolute;top:0;right:0;left:0}.c-clRyaO{display:flex;flex-direction:row;justify-content:space-between}.c-kIzotu{height:3px;width:3px;background-color:var(--colors-cyan1);border-radius:50%;display:inline-block;z-index:2}.c-gyrVXq{height:60px;padding-left:12px;display:flex;flex-direction:row;align-items:center;gap:14px;position:relative;---buttonSpaceHeight:30px;---buttonSpaceStart:357px}.c-gyrVXq:before{content:"";position:absolute;left:0;top:0;right:0;bottom:0;z-index:-1;background:var(--colors-navigationBarBackground);-webkit-clip-path:polygon(0% 0%, 100% 0%, 100% var(---buttonSpaceHeight), calc(21px + var(---buttonSpaceStart)) var(---buttonSpaceHeight), var(---buttonSpaceStart) 100%, 0% 100%);clip-path:polygon(0% 0%, 100% 0%, 100% var(---buttonSpaceHeight), calc(21px + var(---buttonSpaceStart)) var(---buttonSpaceHeight), var(---buttonSpaceStart) 100%, 0% 100%)}@media (max-width: 1000px){.c-gyrVXq:before{-webkit-clip-path:unset;clip-path:unset}}@media (max-width: 1000px){.c-gyrVXq{margin-bottom:60px}}.c-iulrsv{display:flex;flex-direction:column;width:276px;white-space:nowrap}.c-etzgqU{color:var(--colors-primary);background:unset;transition:all 150ms ease-out}.c-feOxVA{display:flex;flex:1;flex-direction:column;justify-content:end;height:var(--sizes-navigationBarHeight)}@media (max-width: 1000px){.c-feOxVA{position:absolute;width:100%;top:42px;left:0px}}.c-dDHynQ{display:flex;flex-direction:row;gap:10px}@media (max-width: 1000px){.c-dDHynQ{overflow-x:auto;scrollbar-width:thin}}.c-cpujxP{border:0;padding:4px 32px 4px 32px;position:relative;background:transparent;cursor:pointer;font-family:inherit;font-size:var(--fontSizes-6);transition:all 150ms ease-out;z-index:1;white-space:nowrap;color:var(--colors-cyan1)}.c-cpujxP:before{content:"";position:absolute;left:0;top:0;right:0;bottom:0;border-radius:0px;transform:skewX(-35deg);background-color:var(--colors-navigationBarBackground);z-index:-1}.c-cpujxP:hover{color:var(--colors-yellow1)}.c-cpujxP:hover:before{transition:250ms;background-color:var(--colors-cyan10)}.c-cpujxP:active{color:var(--colors-yellow1)}.c-cpujxP:active:before{background-color:rgba(0, 0, 0, 0.2)}.c-cpujxP{transform:unset}.c-gpipSC{position:absolute;right:0;top:0}.c-fRFjac{cursor:pointer;border:0;padding:6px 24px 6px 24px;font-family:inherit;font-size:var(--fontSizes-4);font-weight:700;background:none;transition:150ms;white-space:nowrap;color:var(--colors-gray12);height:30px}.c-fRFjac:hover{transition:150ms;background-color:rgba(0, 0, 0, 0.05)}.c-kILjfr{height:20px;display:flex;flex-direction:row;justify-content:left;align-items:center}.c-bZNrxE{display:flex;flex-direction:row}.c-bzinLH{border:0;padding:4px 32px 4px 32px;background-color:var(--colors-navigationBarBackground);cursor:pointer;font-family:inherit;font-size:var(--fontSizes-6);transition:all 150ms ease-out;white-space:nowrap;color:var(--colors-cyan1)}.c-bzinLH:hover{color:var(--colors-yellow1);background-color:var(--colors-cyan10)}.c-bzinLH:active{color:var(--colors-yellow1);background-color:rgba(0, 0, 0, 0.2)}.c-bzinLH{---sharpness:9px}.c-kEKURm{color:unset;font-family:inherit;text-decoration:none}.c-fixGjY{display:flex;flex-direction:column}.c-fyvDCW{width:150px;padding-left:10px;padding-right:10px}.c-glsbxu{display:flex;flex-direction:row;gap:30px;flex-wrap:wrap}.c-dJLrME{background:var(--colors-cyan14);padding:12px;display:flex;flex-direction:column}.c-eHZBlb{display:inline-block;position:relative}.c-eHZBlb:after{content:"";position:absolute;width:100%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:var(--colors-yellow1);transform-origin:bottom left;transition:transform 0.25s ease-out}.c-eHZBlb:hover:after{transform:scaleX(1);transform-origin:bottom right}.c-iWskpP{max-width:600px}.c-dMVkxJ{background:var(--colors-cyan14);padding:12px}.c-eNcIwC{display:flex;flex-direction:row;flex-wrap:wrap;gap:16px}.c-iGFHcp{border:unset;background:unset;font-family:inherit;font-size:inherit;display:flex;cursor:pointer;justify-content:center;align-items:center;text-align:center;white-space:nowrap;padding:0px 5px 0px 5px;height:20px}.c-efBci{display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;margin:0px 3px 0px 3spx}.c-gTxPZB{height:calc(var(--sizes-tileSize) * 11)}.c-dvjstZ{display:flex;justify-content:center;align-items:center;position:relative;background:var(--colors-cyan14)}.c-ldPnSK{position:absolute;top:0;bottom:0;right:0;left:0;padding:8px;display:flex;flex-direction:column;justify-content:space-between}.c-fIaqhA{display:flex;justify-content:space-between}.c-iaRmgM{display:flex;flex-direction:column;gap:3px;z-index:1}.c-iuLOhP{display:flex;flex-direction:column;justify-content:center;align-items:center;width:360px;height:300px}.c-byBtmX{position:absolute;width:260px;height:260px;border-radius:50%;border:3px dotted var(--colors-cyan2);transition:200ms}.c-bERzYA{display:flex;flex-direction:row;gap:6px;align-items:center}.c-cmpvrW{position:relative}.c-VGpiX{position:absolute;width:12px;height:12px;border-radius:50%;border:2px solid rgba(216, 60, 60, 0.5);transition:200ms}.c-kWLcyc{position:relative;width:12px;height:12px;border-radius:50%;border:2px solid rgba(216, 60, 60, 0.5);transition:200ms}.c-dpfDj{background:rgba(216, 60, 60, 0.8);width:8px;height:8px;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.c-dpepJw{position:relative;background:var(--colors-cyan14);height:300px}.c-cWBKTD{border:0;background:var(--colors-cyan13);cursor:pointer;font-family:inherit;font-size:var(--fontSizes-6);transition:150ms;white-space:nowrap;color:var(--colors-cyan1);height:24px;display:flex;justify-content:center;align-items:center}.c-cWBKTD:active{opacity:0.8}.c-gZOXAY{min-width:250px}.c-joMVIm{display:flex;flex-direction:column;justify-content:space-between;background:var(--colors-cyan14);height:60px;padding-left:10px;padding-right:10px}.c-ldevfl{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:10px}.c-iwmuDn{height:8px;width:8px;background-color:var(--colors-cyan1);border-radius:50%}.c-bpHVNX{width:100%;background-color:var(--colors-cyan9);border-radius:10px}.c-kknYDB{height:100%;border-radius:10px;transition:width 350ms ease-out}.c-wyHOk{display:flex;flex-direction:row;gap:30px}@media (max-width: 570px){.c-wyHOk{gap:10px}}.c-wyHOk > *{flex:1}.c-hZhpoc{background:var(--colors-cyan14);display:flex;flex-direction:column}.c-ewvLWY{display:table;border-collapse:collapse;overflow:auto}.c-eevVkB{transition:250ms}.c-eevVkB:hover{background:var(--colors-cyan12)}.c-dTDied{padding:0px 12px 0px 12px}@media (max-width: 570px){.c-dTDied{padding:0px 6px 0px 6px}}.c-idkvig{display:flex;flex-direction:row;gap:15px}.c-gdNyNn{display:flex;flex-direction:column;min-width:calc(var(--sizes-tileSize) * 4);gap:8px}.c-kXCpzI{display:flex;height:var(--sizes-tileSize);align-items:center;background:var(--colors-cyan12)}.c-cVPBnX{width:34px;height:30px;display:flex;justify-content:center;align-items:center}.c-iGwwkn{display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;height:var(--sizes-tileSize)}.c-kiwSBi{display:flex;gap:8px}.c-zjeLT{min-width:540px;overflow-x:auto}.c-ZezvN{display:flex;gap:7px;row-gap:2px}.c-dhzjXW{display:flex}.c-cjRfZB{width:20px;height:20px;display:flex;justify-content:right;align-items:center;text-align:center}.c-fYqGBW{display:flex;flex-direction:row;align-items:center}.c-sDuia{width:58px;height:24px;display:flex;justify-content:center;background:var(--colors-cyan12);align-items:center}.c-eiZNDQ{border:0;padding:6px 32px 6px 32px;background:var(--colors-cyan13);cursor:pointer;font-family:inherit;font-size:var(--fontSizes-6);transition:150ms;white-space:nowrap;color:var(--colors-gray12);height:24px}.c-eiZNDQ:hover{transition:150ms;background-color:rgba(0, 0, 0, 0.05)}.c-bOUoQT{display:flex;flex-direction:row;justify-content:space-around;align-items:center;text-align:center;height:20px;background:var(--colors-cyan14)}.c-hEUZaJ{display:flex;align-items:flex-start }.c-AsWAM{display:inline-block}.c-cFqenZ{display:flex;flex-direction:column;gap:1px}.c-ijjGmW{line-height:1;font-family:var(--fonts-petch)}.c-kRcwLW{display:flex;flex-direction:row;flex:1;gap:40px;justify-content:space-between}.c-bPNjhd{flex:1}.c-iVekhE{display:flex;flex-direction:row;gap:8px}.c-kgXuaA{height:4px;flex:1;background:var(--colors-cyan1)}.c-iakmyt{height:160px;background:var(--colors-cyan14);transition:background 200ms ease-out}.c-iakmyt:hover{background:var(--colors-cyan12)}.c-siuRv{display:flex;flex-direction:column;padding:12px;gap:10px;justify-content:space-between}.c-lcPmgm{display:flex;flex:1}.c-fcTNLc{display:flex;flex-direction:column;flex:1}.c-kwsKlq{position:absolute;right:0;left:0}.c-dMLpPg{background-color:var(--colors-cyan1)}.c-frcwbf{display:flex;flex-direction:row;padding:4px 0px 0px 0px}.c-kVqXeo{display:flex;justify-content:center;align-items:center;width:48px;height:30px}.c-jKOUQW{display:flex;justify-content:center;align-items:center}.c-dRszAd{max-width:calc(var(--sizes-tileSize) * 9);opacity:0.9}.c-jHXquU{display:flex;gap:8px;justify-content:space-between}.c-gbEcmg{display:flex;flex-direction:row;justify-content:center;border:1px solid transparent;width:58px}@media (max-width: 570px){.c-gbEcmg{width:48px}}.c-gbEcmg{align-items:center;flex-wrap:wrap;height:17px}.c-gbEcmg .c-etzgqU{font-family:var(--fonts-petch);font-size:9px}.c-gbEcmg{transition:border 200ms}.c-gbklVh{flex:1;max-height:58px;overflow:hidden;margin-right:26px}.c-gYLdcj{height:calc(var(--sizes-tileSize) * 10);overflow:auto;display:flex;flex-direction:column;gap:30px}.c-koozQD{list-style-type:square}.c-kVfqKj{padding:0px 0 10px 0}.c-cdiiwN{display:flex;gap:6px;flex-direction:column;padding:18px 18px 18px 18px}.c-gMxACW{max-width:1200px}.c-jflfVS{padding:18px 0 18px 0}}--sxs{--sxs:3 c-etzgqU-jYpRwJ-size-11 c-etzgqU-cdWBIM-weight-2 c-etzgqU-eBwviL-color-yellow1 c-etzgqU-jzkLDL-weight-1 c-etzgqU-cOWITQ-color-gray12 c-etzgqU-jgiWaE-size-5 c-etzgqU-hgsrmT-color-gray11 c-cpujxP-imXuQL-type-secondary c-cpujxP-jgiWaE-fontSize-5 c-cpujxP-gBWVhb-weight-3 c-cpujxP-imXuQL-color-cyan8 c-bzinLH-dSQoop-pointed-onlyRight c-bzinLH-imXuQL-type-secondary c-bzinLH-cOhXje-size-breadcrumb c-bzinLH-jgiWaE-fontSize-5 c-bzinLH-gBWVhb-weight-3 c-kIzotu-iOPFgi-show-false c-etzgqU-ldqUtH-size-6 c-cpujxP-cXldpi-type-primary c-fyvDCW-fZeryN-color-cyan1 c-etzgqU-guglxa-color-gray1 c-fyvDCW-futfAl-color-cyan14 c-fyvDCW-jeoisy-size-max c-etzgqU-cXldpi-color-cyan1 c-etzgqU-kENNQV-background-cyan10 c-etzgqU-gBWVhb-weight-3 c-etzgqU-gHgbiV-size-4 c-bzinLH-cXldpi-type-primary c-fyvDCW-hwZpem-height-20 c-etzgqU-itCeJm-padding-tiny c-etzgqU-iMVRpC-size-3 c-etzgqU-qmYFj-color-gray8 c-iaRmgM-fTJken-align-right c-fIaqhA-fTJken-align-bottom c-etzgqU-fZeryN-background-cyan1 c-etzgqU-eXasoI-color-cyanLight1 c-iwmuDn-bvBXSV-color-orange1 c-ewvLWY-fGHEql-width-max c-ewvLWY-ePQKnz-size-1 c-eevVkB-fMvsTn-animation-flash c-etzgqU-bUClzO-color-gray10 c-etzgqU-cIquGH-color-orange1 c-fyvDCW-gjdJOs-textAlign-center c-fyvDCW-klCbDX-color-cyan12 c-fyvDCW-kSrpXu-size-2 c-etzgqU-vOzPd-color-cyan2 c-ZezvN-iTKOFX-flex-column c-dhzjXW-ejCoEP-flex-row c-cjRfZB-bICGYT-align-center c-etzgqU-iBhdec-color-cyan7 c-ZezvN-ejCoEP-flex-row c-ewvLWY-gXMebL-borderColor-cyan1 c-ewvLWY-iHOSJF-backgroundColor-cyan11 c-dhzjXW-iTKOFX-flex-column c-eiZNDQ-fERUhj-type-secondary c-eiZNDQ-gBWVhb-weight-3 c-eiZNDQ-bLPcxs-fontSize-6 c-eiZNDQ-bFqeX-type-primary c-etzgqU-fhwGP-size-13 c-etzgqU-ddalwR-size-8 c-etzgqU-cYiHjO-color-cyan9 c-etzgqU-cAAhmd-color-cyan6 c-etzgqU-boRssB-color-orange3 c-kwsKlq-bHvoes-verticalAlign-top c-fIaqhA-ejCoEP-align-topLeft c-dMLpPg-jJcBVH-variant-vertical c-dMLpPg-krborP-variant-horizontal c-kwsKlq-eWDphg-verticalAlign-bottom c-fIaqhA-fTJken-align-bottomLeft c-fIaqhA-fTJken-align-bottomRight c-ijjGmW-GgrlW-weight-4 c-etzgqU-cQRuly-color-gray9 c-gbEcmg-fizmZY-variant-primary c-gbEcmg-kQgJjd-variant-cyanPrimary c-gbEcmg-hiExWJ-variant-orangePrimary c-gbEcmg-JZdig-variant-cyanSecondary c-gbEcmg-cTetcp-variant-yellowSecondary c-gbEcmg-kENNQV-variant-secondary c-etzgqU-KuHyo-uppercase-true c-etzgqU-fkrpIs-size-10 c-ijjGmW-hZNfDR-weight-3}@media{.c-etzgqU-jYpRwJ-size-11{font-size:var(--fontSizes-11)}.c-etzgqU-cdWBIM-weight-2{font-weight:400}.c-etzgqU-eBwviL-color-yellow1{color:var(--colors-yellow1)}.c-etzgqU-jzkLDL-weight-1{font-weight:300}.c-etzgqU-cOWITQ-color-gray12{color:var(--colors-gray12)}.c-etzgqU-jgiWaE-size-5{font-size:var(--fontSizes-5)}.c-etzgqU-hgsrmT-color-gray11{color:var(--colors-gray11)}.c-cpujxP-imXuQL-type-secondary{color:var(--colors-cyan8)}.c-cpujxP-jgiWaE-fontSize-5{font-size:var(--fontSizes-5)}.c-cpujxP-gBWVhb-weight-3{font-weight:700}.c-cpujxP-imXuQL-color-cyan8{color:var(--colors-cyan8)}.c-bzinLH-dSQoop-pointed-onlyRight{-webkit-clip-path:polygon(calc(100% - var(---sharpness)) 0, 100% 50%, calc(100% - var(---sharpness)) 100%, 0 100%, 0 50%, 0 0);clip-path:polygon(calc(100% - var(---sharpness)) 0, 100% 50%, calc(100% - var(---sharpness)) 100%, 0 100%, 0 50%, 0 0)}.c-bzinLH-imXuQL-type-secondary{color:var(--colors-cyan8)}.c-bzinLH-cOhXje-size-breadcrumb{padding:3px 32px 3px 32px}.c-bzinLH-jgiWaE-fontSize-5{font-size:var(--fontSizes-5)}.c-bzinLH-gBWVhb-weight-3{font-weight:700}.c-kIzotu-iOPFgi-show-false{opacity:0}.c-etzgqU-ldqUtH-size-6{font-size:var(--fontSizes-6)}.c-cpujxP-cXldpi-type-primary{color:var(--colors-cyan1)}.c-fyvDCW-fZeryN-color-cyan1{background:var(--colors-cyan1)}.c-etzgqU-guglxa-color-gray1{color:var(--colors-gray1)}.c-fyvDCW-futfAl-color-cyan14{background:var(--colors-cyan14)}.c-fyvDCW-jeoisy-size-max{width:calc(100% - 20px)}.c-etzgqU-cXldpi-color-cyan1{color:var(--colors-cyan1)}.c-etzgqU-kENNQV-background-cyan10{background:var(--colors-cyan10)}.c-etzgqU-gBWVhb-weight-3{font-weight:700}.c-etzgqU-gHgbiV-size-4{font-size:var(--fontSizes-4)}.c-bzinLH-cXldpi-type-primary{color:var(--colors-cyan1)}.c-fyvDCW-hwZpem-height-20{height:20px}.c-etzgqU-itCeJm-padding-tiny{padding:1px 3px 1px 3px}.c-etzgqU-iMVRpC-size-3{font-size:var(--fontSizes-3)}.c-etzgqU-qmYFj-color-gray8{color:var(--colors-gray8)}.c-iaRmgM-fTJken-align-right{align-items:end}.c-fIaqhA-fTJken-align-bottom{align-items:end}.c-etzgqU-fZeryN-background-cyan1{background:var(--colors-cyan1)}.c-etzgqU-eXasoI-color-cyanLight1{color:var(--colors-cyanLight1)}.c-iwmuDn-bvBXSV-color-orange1{background-color:var(--colors-orange1)}.c-ewvLWY-fGHEql-width-max{width:100%}.c-ewvLWY-ePQKnz-size-1{height:210px}.c-eevVkB-fMvsTn-animation-flash{animation:k-iUWkhJ 1500ms}.c-etzgqU-bUClzO-color-gray10{color:var(--colors-gray10)}.c-etzgqU-cIquGH-color-orange1{color:var(--colors-orange1)}.c-fyvDCW-gjdJOs-textAlign-center{text-align:center}.c-fyvDCW-klCbDX-color-cyan12{background:var(--colors-cyan12)}.c-fyvDCW-kSrpXu-size-2{width:70px}.c-etzgqU-vOzPd-color-cyan2{color:var(--colors-cyan2)}.c-ZezvN-iTKOFX-flex-column{flex-direction:column}.c-dhzjXW-ejCoEP-flex-row{flex-direction:row}.c-cjRfZB-bICGYT-align-center{justify-content:center}.c-etzgqU-iBhdec-color-cyan7{color:var(--colors-cyan7)}.c-ZezvN-ejCoEP-flex-row{flex-direction:row}.c-ewvLWY-gXMebL-borderColor-cyan1{border-collapse:separate;border-spacing:1px}.c-ewvLWY-iHOSJF-backgroundColor-cyan11{background-color:var(--colors-cyan11)}.c-dhzjXW-iTKOFX-flex-column{flex-direction:column}.c-eiZNDQ-fERUhj-type-secondary{color:var(--colors-cyan8)}.c-eiZNDQ-fERUhj-type-secondary:active{background-color:rgba(0, 0, 0, 0.15)}.c-eiZNDQ-gBWVhb-weight-3{font-weight:700}.c-eiZNDQ-bLPcxs-fontSize-6{font-size:var(--fontSizes-4)}.c-eiZNDQ-bFqeX-type-primary{color:var(--colors-cyan1);background:var(--colors-cyan13)}.c-eiZNDQ-bFqeX-type-primary:active{background-color:rgba(0, 0, 0, 0.2)}.c-etzgqU-fhwGP-size-13{font-size:var(--fontSizes-13)}.c-etzgqU-ddalwR-size-8{font-size:var(--fontSizes-8)}.c-etzgqU-cYiHjO-color-cyan9{color:var(--colors-cyan9)}.c-etzgqU-cAAhmd-color-cyan6{color:var(--colors-cyan6)}.c-etzgqU-boRssB-color-orange3{color:var(--colors-orange3)}.c-kwsKlq-bHvoes-verticalAlign-top{top:0;bottom:unset}.c-fIaqhA-ejCoEP-align-topLeft{flex-direction:row}.c-dMLpPg-jJcBVH-variant-vertical{height:var(---lineLength);width:1px}.c-dMLpPg-krborP-variant-horizontal{height:1px;width:var(---lineLength)}.c-kwsKlq-eWDphg-verticalAlign-bottom{top:unset;bottom:0}.c-fIaqhA-fTJken-align-bottomLeft{align-items:end}.c-fIaqhA-fTJken-align-bottomRight{align-items:end}.c-ijjGmW-GgrlW-weight-4{font-weight:600}.c-etzgqU-cQRuly-color-gray9{color:var(--colors-gray9)}.c-gbEcmg-fizmZY-variant-primary{background:unset}.c-gbEcmg-kQgJjd-variant-cyanPrimary{background:var(--colors-cyan8)}.c-gbEcmg-kQgJjd-variant-cyanPrimary .c-etzgqU{color:var(--colors-cyan1)}.c-gbEcmg-hiExWJ-variant-orangePrimary .c-etzgqU{color:var(--colors-orange1)}.c-gbEcmg-JZdig-variant-cyanSecondary .c-etzgqU{color:var(--colors-cyan1)}.c-gbEcmg-cTetcp-variant-yellowSecondary .c-etzgqU{color:var(--colors-yellow1)}.c-gbEcmg-kENNQV-variant-secondary{background:var(--colors-cyan10)}.c-etzgqU-KuHyo-uppercase-true{text-transform:uppercase}.c-etzgqU-fkrpIs-size-10{font-size:var(--fontSizes-10)}.c-ijjGmW-hZNfDR-weight-3{font-weight:500}}--sxs{--sxs:4 c-etzgqU-ioEJVw-size-9 c-cpujxP-chAKcG-size-dense c-cpujxP-dAUiBK-variant-standard c-cpujxP-jICxXe-size-dense c-eiZNDQ-czgjXQ-size-s c-etzgqU-kYMvzv-size-4}@media{@media (max-width: 510px){.c-etzgqU-ioEJVw-size-9{font-size:var(--fontSizes-9)}}@media (max-width: 620px){.c-cpujxP-chAKcG-size-dense{padding:4px 20px 4px 20px}}@media (max-width: 1000px){.c-cpujxP-dAUiBK-variant-standard:before{transform:unset}}@media (max-width: 510px){.c-cpujxP-jICxXe-size-dense{padding:4px 20px 4px 20px}}@media (max-width: 570px){.c-eiZNDQ-czgjXQ-size-s{padding:6px 24px 6px 24px}}@media (max-width: 570px){.c-etzgqU-kYMvzv-size-4{font-size:var(--fontSizes-4)}}}--sxs{--sxs:6 c-PJLV-iPJLV-css PJLV-ibdlDAf-css PJLV-ibHRHFJ-css PJLV-idgpGEa-css PJLV-iigdH-css PJLV-iimWDha-css PJLV-iiDXIet-css PJLV-icCZQLU-css PJLV-icIbOAR-css PJLV-ikzHHyu-css PJLV-ifIaqhA-css PJLV-idhvMKL-css PJLV-icsWTmq-css PJLV-ierlpnn-css PJLV-ifceayc-css PJLV-ileHWbT-css PJLV-iewNrri-css PJLV-ieNQnmP-css PJLV-igwebBf-css PJLV-idymynJ-css PJLV-icqwzJK-css PJLV-ifnaoh-css PJLV-ifHfheo-css PJLV-ihDHVWZ-css PJLV-iiWAwcq-css PJLV-ibqujeV-css PJLV-igyinzs-css PJLV-iiMmRTQ-css PJLV-igtBzxi-css PJLV-ilcaSsF-css PJLV-iiuTqcy-css PJLV-ieEDoLY-css PJLV-iePRSge-css PJLV-iiTpqox-css PJLV-irAFFn-css c-bpHVNX-igegpHX-css c-kknYDB-iihieJZ-css c-kknYDB-iiYcORo-css PJLV-ijRdLrV-css PJLV-iUazGY-css PJLV-ieNEWOP-css c-cVPBnX-iddjabe-css PJLV-ihNUOqx-css c-PJLV-ibPNjhd-css PJLV-ibgfENJ-css PJLV-idpiAgx-css PJLV-igfJDXU-css PJLV-ijWcPoV-css PJLV-ibuEniH-css PJLV-iflqHZC-css PJLV-ikeOVpt-css c-AsWAM-igmXyAZ-css c-kgXuaA-ifZeryN-css c-kgXuaA-ieosSqF-css c-kgXuaA-iexhlPo-css PJLV-ibtmVWs-css c-cmpvrW-iPJLV-css c-dMLpPg-icRgTUm-css PJLV-idaQQcb-css PJLV-ijDgzCq-css PJLV-ifXmdLr-css PJLV-ijhDVQA-css}@media{.PJLV-ibdlDAf-css{fill:var(--colors-navigationBarIcon);width:60px;height:55px}.PJLV-ibHRHFJ-css{stroke-width:2;fill:var(--colors-cyan9);stroke:var(--colors-navigationBarIcon);transition:all 600ms ease-out}.PJLV-idgpGEa-css{display:flex;justify-content:center;text-align:center;gap:3px}.PJLV-iigdH-css{background:;fill:var(--colors-gray12);width:12px;height:12px}.PJLV-iimWDha-css{fill:var(--colors-gray12)}.PJLV-iiDXIet-css{height:10px}.PJLV-icCZQLU-css{height:30px}.PJLV-icIbOAR-css{height:20px}.PJLV-ikzHHyu-css{flex:1;min-width:300px;max-width:600px}.PJLV-ifIaqhA-css{display:flex;justify-content:space-between}.PJLV-idhvMKL-css{height:15px}.PJLV-icsWTmq-css{height:10px}.PJLV-ierlpnn-css{all:unset;cursor:pointer;padding:0 4px 0 4px}.PJLV-ifceayc-css{height:15px}.PJLV-ileHWbT-css{all:unset}.PJLV-iewNrri-css{fill:var(--colors-gray12);width:55px;height:}.PJLV-ieNQnmP-css{width:6px}.PJLV-igwebBf-css{fill:var(--colors-gray12);width:24px;height:18.5px}.PJLV-idymynJ-css{stroke:var(--colors-gray12)}.PJLV-icqwzJK-css{width:22px;height:17px}.PJLV-ifnaoh-css{fill:var(--colors-gray1);width:20px;height:20px}.PJLV-ifHfheo-css{fill:var(--colors-gray1)}.PJLV-ihDHVWZ-css{fill:var(--colors-gray12);width:78px;height:18px}.PJLV-iiWAwcq-css{width:25px;height:18px}.PJLV-ibqujeV-css{fill:var(--colors-gray12);width:65px;height:18px}.PJLV-igyinzs-css{width:20px;height:20px}.PJLV-iiMmRTQ-css{fill:var(--colors-gray10)}.PJLV-igtBzxi-css{height:20px}.PJLV-ilcaSsF-css{height:10px}.PJLV-iiuTqcy-css{fill:var(--colors-cyan1);width:24px;height:18px}.PJLV-ieEDoLY-css{fill:var(--colors-cyan1)}.PJLV-iePRSge-css{fill:none}.PJLV-iiTpqox-css{fill:var(--colors-cyan1);width:24px;height:24px}.PJLV-irAFFn-css{height:100%;min-width:500px}@media (max-width: 570px){.PJLV-irAFFn-css{min-width:200px}}.c-bpHVNX-igegpHX-css{background-color:var(--colors-cyan9);height:6px}.c-kknYDB-iihieJZ-css{width:0%;background-color:var(--colors-cyan1)}.c-kknYDB-iiYcORo-css{width:0%;background-color:var(--colors-orange1)}.PJLV-ijRdLrV-css{height:5px}.PJLV-iUazGY-css{display:flex;align-items:center}.PJLV-ieNEWOP-css{height:8px}.c-cVPBnX-iddjabe-css{background-color:var(--colors-cyan12)}.PJLV-ihNUOqx-css{fill:var(--colors-cyan1);width:16px;height:16px;background:}.c-PJLV-ibPNjhd-css{flex:1}.PJLV-ibgfENJ-css{fill:var(--colors-cyan1);width:26px;height:26px}.PJLV-idpiAgx-css{fill:var(--colors-cyan1);width:21px;height:21px}.PJLV-igfJDXU-css{overflow-x:auto}.PJLV-ijWcPoV-css{height:17px}.PJLV-ibuEniH-css{fill:var(--colors-cyanLight1);width:16px;height:16px}.PJLV-iflqHZC-css{fill:var(--colors-cyanLight1)}.PJLV-ikeOVpt-css{height:18px}.c-AsWAM-igmXyAZ-css{width:5px}.c-kgXuaA-ifZeryN-css{background:var(--colors-cyan1)}.c-kgXuaA-ieosSqF-css{background:var(--colors-cyan9)}.c-kgXuaA-iexhlPo-css{background:var(--colors-orange1)}.PJLV-ibtmVWs-css{height:26px}.c-dMLpPg-icRgTUm-css{---lineLength:7px}.PJLV-idaQQcb-css{fill:var(--colors-red1);width:22px;height:22px}.PJLV-ijDgzCq-css{fill:var(--colors-red1)}.PJLV-ifXmdLr-css{height:4px}.PJLV-ijhDVQA-css{height:12px}}.light-theme{--colors-rootBackground: #fff;--colors-tileUrl: url("/tile_light.png");--colors-navigationBarBackground: hsl(58, 6.1%, 92.9%);--colors-navigationBarIcon: var(--colors-yellow1);--colors-gray1: hsl(50, 20.0%, 99.0%);--colors-gray2: hsl(60, 7.7%, 97.5%);--colors-gray3: hsl(59, 6.5%, 95.1%);--colors-gray4: hsl(58, 6.1%, 92.9%);--colors-gray5: hsl(57, 6.0%, 90.7%);--colors-gray6: hsl(56, 5.9%, 88.4%);--colors-gray7: hsl(55, 5.9%, 85.2%);--colors-gray8: hsl(51, 6.0%, 77.1%);--colors-gray9: hsl(50, 2.0%, 55.7%);--colors-gray10: hsl(55, 1.7%, 51.9%);--colors-gray11: hsl(50, 2.0%, 43.1%);--colors-gray12: hsl(50, 6.0%, 10.0%);--colors-cyan1: hsl(50, 6.0%, 10.0%);--colors-cyan2: hsl(50, 2.0%, 43.1%);--colors-cyan3: hsl(55, 1.7%, 51.9%);--colors-cyan4: hsl(55, 1.7%, 51.9%);--colors-cyan5: hsl(50, 2.0%, 55.7%);--colors-cyan6: hsl(50, 2.0%, 55.7%);--colors-cyan7: hsl(50, 2.0%, 55.7%);--colors-cyan8: hsl(51, 6.0%, 77.1%);--colors-cyan9: hsl(51, 6.0%, 77.1%);--colors-cyan10: hsl(57, 6.0%, 90.7%);--colors-cyan11: hsl(58, 6.1%, 92.9%);--colors-cyan12: hsl(59, 6.5%, 95.1%);--colors-cyan13: hsl(60, 7.7%, 97.5%);--colors-cyan14: hsl(60, 7.7%, 97.5%);--colors-cyan8Opaque: hsl(51, 6.0%, 77.1%);--colors-cyanLight1: hsl(50, 2.0%, 43.1%);--colors-yellow1: hsl(50, 6.0%, 10.0%);}</style><link rel="preload" href="/_next/static/css/56de2ecd2b7a845c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/56de2ecd2b7a845c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-38cee4c0e358b1a3.js" defer=""></script><script src="/_next/static/chunks/framework-ac88a2a245aea9ab.js" defer=""></script><script src="/_next/static/chunks/main-a798e36075259f24.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b7bf7a6fd0599896.js" defer=""></script><script src="/_next/static/chunks/601-fe55630fcee633a6.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5B...markdownPath%5D-08bf5a22d6ffaa10.js" defer=""></script><script src="/_next/static/98plFlVvyL9MQqcBiXih2/_buildManifest.js" defer=""></script><script src="/_next/static/98plFlVvyL9MQqcBiXih2/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('t-eYbQcn','light-theme');var e=localStorage.getItem('theme');if('system'===e||(!e&&false)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('t-eYbQcn')}else{d.style.colorScheme = 'light';c.add('light-theme')}}else if(e){var x={"dark":"t-eYbQcn","light":"light-theme"};c.add(x[e]|| '')}else{c.add('t-eYbQcn')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><div class="c-cIVMtn"><div class="c-PJLV c-PJLV-iPJLV-css"><div class="c-hKqPSV"><div class="c-fLnflv"><div class="c-clRyaO"><div class="c-kIzotu"></div><div class="c-kIzotu"></div></div></div><div class="c-gyrVXq"><svg viewBox="-4 0 110 95" class="PJLV PJLV-ibdlDAf-css" style="opacity:0"><path d="m31.665 64.866 36.668-21.975 15 8.922v18.178l-15 8.917-15-8.917V59.655l-6.666 3.993v10.133l21.666 12.885L90 73.781V48.022L68.333 35.137 31.665 57.109z" class="PJLV PJLV-ibHRHFJ-css" opacity="0" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="0px 1px"></path><path d="M31.665 57.109 16.667 48.19V30.009l14.998-8.919 15.002 8.919v10.34l6.666-3.995V26.217L31.665 13.334 10 26.217v25.766l21.665 12.883z" class="PJLV PJLV-ibHRHFJ-css" opacity="0" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="0px 1px"></path></svg><div class="c-iulrsv"><div class="PJLV"><span class="c-etzgqU c-etzgqU-jYpRwJ-size-11 c-etzgqU-cdWBIM-weight-2 c-etzgqU-eBwviL-color-yellow1 c-etzgqU-ioEJVw-size-9">FULL STACK </span><span class="c-etzgqU c-etzgqU-jYpRwJ-size-11 c-etzgqU-jzkLDL-weight-1 c-etzgqU-cOWITQ-color-gray12 c-etzgqU-ioEJVw-size-9">DEVELOPER</span></div><div class="PJLV"><span class="c-etzgqU c-etzgqU-jgiWaE-size-5 c-etzgqU-cdWBIM-weight-2 c-etzgqU-cOWITQ-color-gray12">SITE_PROJECT / </span><span class="c-etzgqU c-etzgqU-jgiWaE-size-5 c-etzgqU-cdWBIM-weight-2 c-etzgqU-hgsrmT-color-gray11">X7CI.ENGINEER</span></div></div><div class="c-feOxVA"><div class="c-dDHynQ"><a href="/"><button class="c-cpujxP c-cpujxP-imXuQL-type-secondary c-cpujxP-jgiWaE-fontSize-5 c-cpujxP-gBWVhb-weight-3 c-cpujxP-chAKcG-size-dense c-cpujxP-dAUiBK-variant-standard">ANALYSIS</button></a><a href="/posts"><button class="c-cpujxP c-cpujxP-cXldpi-type-primary c-cpujxP-jgiWaE-fontSize-5 c-cpujxP-gBWVhb-weight-3 c-cpujxP-chAKcG-size-dense c-cpujxP-dAUiBK-variant-standard">BLOG</button></a><a href="/about"><button class="c-cpujxP c-cpujxP-imXuQL-type-secondary c-cpujxP-jgiWaE-fontSize-5 c-cpujxP-gBWVhb-weight-3 c-cpujxP-chAKcG-size-dense c-cpujxP-dAUiBK-variant-standard">ABOUT</button></a><button class="c-cpujxP c-cpujxP-imXuQL-color-cyan8 c-cpujxP-jgiWaE-fontSize-5 c-cpujxP-gBWVhb-weight-3 c-cpujxP-jICxXe-size-dense c-cpujxP-dAUiBK-variant-standard">SWITCH THEME (<!-- -->------<!-- -->)</button></div></div><div class="c-gpipSC"><a href="https://github.com/x7ci/site_project" target="_blank" class="PJLV"><button class="c-fRFjac"><div class="PJLV PJLV-idgpGEa-css"><svg viewBox="0 0 16 16" class="PJLV PJLV-iigdH-css"><title>Star</title><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z" class="PJLV PJLV-iimWDha-css"></path></svg>GITHUB</div></button></a></div></div></div></div><div class="PJLV PJLV-iiDXIet-css"></div><nav aria-label="breadcrumbs" class="c-kILjfr"><div class="c-bZNrxE"><a class="c-kEKURm" href="/"><button class="c-bzinLH c-bzinLH-dSQoop-pointed-onlyRight c-bzinLH-imXuQL-type-secondary c-bzinLH-cOhXje-size-breadcrumb c-bzinLH-jgiWaE-fontSize-5 c-bzinLH-gBWVhb-weight-3">/</button></a></div></nav><div class="c-PJLV c-PJLV-iPJLV-css"><div class="c-hKqPSV"><div class="c-fLnflv"><div class="c-clRyaO"><div class="c-kIzotu c-kIzotu-iOPFgi-show-false"></div><div class="c-kIzotu"></div></div></div></div></div><div class="PJLV PJLV-icCZQLU-css"></div><main><div class="PJLV" style="opacity:0;transform:scale(1.05) translateZ(0)"><article class="c-fixGjY"><div class="c-PJLV"><div class="c-cmpvrW c-cmpvrW-iPJLV-css"><div class="c-kwsKlq c-kwsKlq-bHvoes-verticalAlign-top"><div class="c-clRyaO"><div class="c-fIaqhA c-fIaqhA-ejCoEP-align-topLeft"><div class="c-dMLpPg c-dMLpPg-jJcBVH-variant-vertical c-dMLpPg-icRgTUm-css"></div><div class="c-dMLpPg c-dMLpPg-krborP-variant-horizontal c-dMLpPg-icRgTUm-css"></div></div><div class="c-fIaqhA"><div class="c-dMLpPg c-dMLpPg-krborP-variant-horizontal c-dMLpPg-icRgTUm-css"></div><div class="c-dMLpPg c-dMLpPg-jJcBVH-variant-vertical c-dMLpPg-icRgTUm-css"></div></div></div></div><div class="c-kwsKlq c-kwsKlq-eWDphg-verticalAlign-bottom"><div class="c-clRyaO"><div class="c-fIaqhA c-fIaqhA-fTJken-align-bottomLeft"></div><div class="c-fIaqhA c-fIaqhA-fTJken-align-bottomRight"></div></div></div></div><div class="c-cdiiwN"><span class="c-etzgqU c-ijjGmW c-etzgqU-KuHyo-uppercase-true c-etzgqU-fkrpIs-size-10 c-etzgqU-gBWVhb-weight-3 c-etzgqU-cOWITQ-color-gray12 c-ijjGmW-hZNfDR-weight-3">Next.js/Stitches: Handling Flash of Default Theme</span><time dateTime="2023-05-26" class="c-etzgqU c-etzgqU-KuHyo-uppercase-true c-etzgqU-jgiWaE-size-5 c-etzgqU-gBWVhb-weight-3 c-etzgqU-cOWITQ-color-gray12">May 26, 2023</time></div><div class="c-cmpvrW c-cmpvrW-iPJLV-css"><div class="c-kwsKlq c-kwsKlq-bHvoes-verticalAlign-top"><div class="c-clRyaO"><div class="c-fIaqhA c-fIaqhA-ejCoEP-align-topLeft"></div><div class="c-fIaqhA"></div></div></div><div class="c-kwsKlq c-kwsKlq-eWDphg-verticalAlign-bottom"><div class="c-clRyaO"><div class="c-fIaqhA c-fIaqhA-fTJken-align-bottomLeft"><div class="c-dMLpPg c-dMLpPg-jJcBVH-variant-vertical c-dMLpPg-icRgTUm-css"></div><div class="c-dMLpPg c-dMLpPg-krborP-variant-horizontal c-dMLpPg-icRgTUm-css"></div></div><div class="c-fIaqhA c-fIaqhA-fTJken-align-bottomRight"><div class="c-dMLpPg c-dMLpPg-krborP-variant-horizontal c-dMLpPg-icRgTUm-css"></div><div class="c-dMLpPg c-dMLpPg-jJcBVH-variant-vertical c-dMLpPg-icRgTUm-css"></div></div></div></div></div></div><div class="c-gMxACW"><div class="c-jflfVS">
<p>If you have chosen Stitches as the styling library for your Next.js app, you have probably noticed the additional configuration required to ensure they work together seamlessly. As per the Stitches docs, we have to include the following code in the <code>&#x3C;Head /></code> element of the Next document:</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line line-number" line="1"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Head</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="2"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>style</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stitches<span class="token punctuation">"</span></span> <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> __html<span class="token operator">:</span> <span class="token function">getCssText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="3"><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Head</span></span><span class="token punctuation">></span></span>
</span></code></pre>
<p>There is one caveat with the <code>getCssText()</code> function above. If you have created additional themes using Stitches and are applying those themes from <code>localStorage</code> (e.g. using next-themes), you may notice a momentary flash of your default theme before the correct theme is applied.</p>
<p>The reason for this behavior is that the <code>getCssText()</code> function of Stitches, which is injected into the <code>&#x3C;Head /></code> element, does not include styles for non-default themes. Consequently, these styles are <strong>not</strong> included in the initial HTML document delivered by Next.js, but are instead loaded client-side. You can confirm this by inspecting the HTML delivered by Next.js on the first load using the Network tab in your browser. You will observe that it does not contain styles for non-default themes.</p>
<p>To resolve this issue, we can generate the CSS for the non-default Stitches themes and append it to the <code>&#x3C;style /></code> element in <code>_document.tsx</code>.</p>
<p>First, add the following code snippet to <code>_document.tsx</code> in your app:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> <span class="token punctuation">{</span> Token <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@stitches/react/types/theme'</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">type</span> <span class="token class-name">StitchesTheme</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> stitchesTheme<span class="token punctuation">;</span> <span class="token comment">// Import your non-default Stitches theme and use it here as a type. </span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">const</span> defineCssVar <span class="token operator">=</span> <span class="token punctuation">(</span>object<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> Token<span class="token operator">&#x3C;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token operator">></span><span class="token punctuation">,</span> value<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> prefix<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> object <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token punctuation">.</span>scale <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token punctuation">.</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token punctuation">.</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token keyword">const</span> getThemeCss <span class="token operator">=</span> <span class="token punctuation">(</span>themes<span class="token operator">:</span> StitchesTheme<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">  <span class="token keyword">let</span> css <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> themes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="17">    <span class="token keyword">const</span> themeVars<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>themes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">defineCssVar</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19">    <span class="token keyword">const</span> themeCss<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>themes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>themeVars<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21">    css <span class="token operator">+=</span> themeCss<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24">  <span class="token keyword">return</span> css<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token keyword">const</span> themeCss <span class="token operator">=</span> <span class="token function">getThemeCss</span><span class="token punctuation">(</span><span class="token punctuation">[</span>stitchesTheme<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>The <code>getThemeCss()</code> function here parses all the colors of the theme(s) and generates CSS out of them.</p>
<p>Now, you can take the generated CSS and append it to the <code>dangerouslySetInnerHTML</code> prop on the <code>&#x3C;style /></code> element used by Stitches:</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Document</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="3">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Html</span></span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="4"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Head</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number highlight-line" line="5"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>style</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stitches<span class="token punctuation">"</span></span> <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> __html<span class="token operator">:</span> <span class="token function">getCssText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> themeCss <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="6"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Head</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="7"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="8"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Main</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="9"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">NextScript</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="10"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="11"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Html</span></span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="12">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13"><span class="token punctuation">}</span>
</span></code></pre>
<p>Now, if you reinspect the HTML document generated by Next.js, you will notice that the styles of the extra theme(s) are included. Reloading the page should no longer result in a flash of the default theme.</p>
<p>For reference, here's an example of what the entire <code>_document.tsx</code> would look like in my case:</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Html</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Head</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Main</span><span class="token punctuation">,</span> <span class="token maybe-class-name">NextScript</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">'next/document'</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> getCssText<span class="token punctuation">,</span> lightTheme <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">'../../stitches.config'</span><span class="token punctuation">;</span> <span class="token comment">// path-to/stitches.config</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">type</span> <span class="token class-name">Token</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@stitches/react/types/theme'</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">type</span> <span class="token class-name">StitchesTheme</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> lightTheme<span class="token punctuation">;</span> <span class="token comment">// Import your non-default Stitches theme and use it here as a type.</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token keyword">const</span> defineCssVar <span class="token operator">=</span> <span class="token punctuation">(</span>object<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token maybe-class-name">Token</span><span class="token operator">&#x3C;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token operator">></span><span class="token punctuation">,</span> value<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> prefix<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> object <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12">  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token punctuation">.</span>scale <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token punctuation">.</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token punctuation">.</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>object<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token keyword">const</span> getThemeCss <span class="token operator">=</span> <span class="token punctuation">(</span>themes<span class="token operator">:</span> <span class="token maybe-class-name">StitchesTheme</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="16">  <span class="token keyword">let</span> css <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> themes<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">    <span class="token keyword">const</span> themeVars<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">values</span><span class="token punctuation">(</span>themes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">colors</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">defineCssVar</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21">    <span class="token keyword">const</span> themeCss<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>themes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>themeVars<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">
</span><span class="code-line line-number" line="23">    css <span class="token operator">+=</span> themeCss<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="24">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="25">
</span><span class="code-line line-number" line="26">  <span class="token keyword">return</span> css<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="27"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token keyword">const</span> themeCss <span class="token operator">=</span> <span class="token function">getThemeCss</span><span class="token punctuation">(</span><span class="token punctuation">[</span>lightTheme<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Document</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="32">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="33">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Html</span></span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="34"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Head</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="35"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>style</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stitches<span class="token punctuation">"</span></span> <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> __html<span class="token operator">:</span> <span class="token function">getCssText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> themeCss <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="36"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Head</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="37"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="38"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Main</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="39"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">NextScript</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="40"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span><span class="token plain-text">
</span></span><span class="code-line line-number" line="41"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Html</span></span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="42">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="43"><span class="token punctuation">}</span>
</span></code></pre>
</div></div><div class="PJLV PJLV-icIbOAR-css"></div><div class="c-PJLV c-PJLV-iPJLV-css"><div class="c-hKqPSV"><div class="c-fLnflv"><div class="c-clRyaO"><div class="c-kIzotu"></div><div class="c-kIzotu"></div></div></div></div></div></article></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"markdownPath":"handling-flash-of-default-theme","contentHtml":"\n\u003cp\u003eIf you have chosen Stitches as the styling library for your Next.js app, you have probably noticed the additional configuration required to ensure they work together seamlessly. As per the Stitches docs, we have to include the following code in the \u003ccode\u003e\u0026#x3C;Head /\u003e\u003c/code\u003e element of the Next document:\u003c/p\u003e\n\u003cpre class=\"language-tsx\"\u003e\u003ccode class=\"language-tsx code-highlight\"\u003e\u003cspan class=\"code-line line-number\" line=\"1\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHead\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number highlight-line\" line=\"2\"\u003e\u003cspan class=\"token plain-text\"\u003e  \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estyle\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eid\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003estitches\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003edangerouslySetInnerHTML\u003c/span\u003e\u003cspan class=\"token script language-javascript\"\u003e\u003cspan class=\"token script-punctuation punctuation\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e __html\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003egetCssText\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"3\"\u003e\u003cspan class=\"token plain-text\"\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHead\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThere is one caveat with the \u003ccode\u003egetCssText()\u003c/code\u003e function above. If you have created additional themes using Stitches and are applying those themes from \u003ccode\u003elocalStorage\u003c/code\u003e (e.g. using next-themes), you may notice a momentary flash of your default theme before the correct theme is applied.\u003c/p\u003e\n\u003cp\u003eThe reason for this behavior is that the \u003ccode\u003egetCssText()\u003c/code\u003e function of Stitches, which is injected into the \u003ccode\u003e\u0026#x3C;Head /\u003e\u003c/code\u003e element, does not include styles for non-default themes. Consequently, these styles are \u003cstrong\u003enot\u003c/strong\u003e included in the initial HTML document delivered by Next.js, but are instead loaded client-side. You can confirm this by inspecting the HTML delivered by Next.js on the first load using the Network tab in your browser. You will observe that it does not contain styles for non-default themes.\u003c/p\u003e\n\u003cp\u003eTo resolve this issue, we can generate the CSS for the non-default Stitches themes and append it to the \u003ccode\u003e\u0026#x3C;style /\u003e\u003c/code\u003e element in \u003ccode\u003e_document.tsx\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eFirst, add the following code snippet to \u003ccode\u003e_document.tsx\u003c/code\u003e in your app:\u003c/p\u003e\n\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts code-highlight\"\u003e\u003cspan class=\"code-line line-number\" line=\"1\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e Token \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'@stitches/react/types/theme'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"2\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"3\"\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eStitchesTheme\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e stitchesTheme\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// Import your non-default Stitches theme and use it here as a type. \u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"4\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"5\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e defineCssVar \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobject\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e Token\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token builtin\"\u003eany\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token builtin\"\u003eany\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e value\u003cspan class=\"token operator\"\u003e?\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e prefix\u003cspan class=\"token operator\"\u003e?\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"6\"\u003e  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e object \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'string'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"7\"\u003e    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e--\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eprefix \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eprefix\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e-\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e: \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003evalue\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"8\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"9\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"10\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e--\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003escale \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003escale\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e-\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etoken\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e: \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evalue\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"11\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"12\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"13\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e getThemeCss \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ethemes\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e StitchesTheme\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"14\"\u003e  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e css \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"15\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"16\"\u003e  \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e themes\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"17\"\u003e    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e themeVars\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Object\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003evalues\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ethemes\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecolors\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token function\"\u003edefineCssVar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e;\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"18\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"19\"\u003e    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e themeCss\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e.\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ethemes\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eclassName\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e{\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ethemeVars\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ejoin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e}\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"20\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"21\"\u003e    css \u003cspan class=\"token operator\"\u003e+=\u003c/span\u003e themeCss\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"22\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"23\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"24\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e css\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"25\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"26\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"27\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e themeCss \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003egetThemeCss\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003estitchesTheme\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003egetThemeCss()\u003c/code\u003e function here parses all the colors of the theme(s) and generates CSS out of them.\u003c/p\u003e\n\u003cp\u003eNow, you can take the generated CSS and append it to the \u003ccode\u003edangerouslySetInnerHTML\u003c/code\u003e prop on the \u003ccode\u003e\u0026#x3C;style /\u003e\u003c/code\u003e element used by Stitches:\u003c/p\u003e\n\u003cpre class=\"language-tsx\"\u003e\u003ccode class=\"language-tsx code-highlight\"\u003e\u003cspan class=\"code-line line-number\" line=\"1\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eDocument\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"2\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"3\"\u003e    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHtml\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003elang\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003een\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"4\"\u003e\u003cspan class=\"token plain-text\"\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHead\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number highlight-line\" line=\"5\"\u003e\u003cspan class=\"token plain-text\"\u003e        \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estyle\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eid\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003estitches\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003edangerouslySetInnerHTML\u003c/span\u003e\u003cspan class=\"token script language-javascript\"\u003e\u003cspan class=\"token script-punctuation punctuation\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e __html\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003egetCssText\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e themeCss \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"6\"\u003e\u003cspan class=\"token plain-text\"\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHead\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"7\"\u003e\u003cspan class=\"token plain-text\"\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ebody\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"8\"\u003e\u003cspan class=\"token plain-text\"\u003e        \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eMain\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"9\"\u003e\u003cspan class=\"token plain-text\"\u003e        \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eNextScript\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"10\"\u003e\u003cspan class=\"token plain-text\"\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ebody\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"11\"\u003e\u003cspan class=\"token plain-text\"\u003e    \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHtml\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"12\"\u003e  \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"13\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, if you reinspect the HTML document generated by Next.js, you will notice that the styles of the extra theme(s) are included. Reloading the page should no longer result in a flash of the default theme.\u003c/p\u003e\n\u003cp\u003eFor reference, here's an example of what the entire \u003ccode\u003e_document.tsx\u003c/code\u003e would look like in my case:\u003c/p\u003e\n\u003cpre class=\"language-tsx\"\u003e\u003ccode class=\"language-tsx code-highlight\"\u003e\u003cspan class=\"code-line line-number\" line=\"1\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eHtml\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eHead\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eMain\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eNextScript\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'next/document'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"2\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e getCssText\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e lightTheme \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'../../stitches.config'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// path-to/stitches.config\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"3\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eToken\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'@stitches/react/types/theme'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"4\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"5\"\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eStitchesTheme\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e lightTheme\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// Import your non-default Stitches theme and use it here as a type.\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"6\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"7\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e defineCssVar \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobject\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eToken\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token builtin\"\u003eany\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token builtin\"\u003eany\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e value\u003cspan class=\"token operator\"\u003e?\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e prefix\u003cspan class=\"token operator\"\u003e?\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"8\"\u003e  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e object \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'string'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"9\"\u003e    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e--\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eprefix \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eprefix\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e-\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e: \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003evalue\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"10\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"11\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"12\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e--\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003escale \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003escale\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e-\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etoken\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e: \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eobject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evalue\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"13\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"14\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"15\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e getThemeCss \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ethemes\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eStitchesTheme\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"16\"\u003e  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e css \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"17\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"18\"\u003e  \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e themes\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003elength\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"19\"\u003e    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e themeVars\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token known-class-name class-name\"\u003eObject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003evalues\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ethemes\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ecolors\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token function\"\u003edefineCssVar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e;\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"20\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"21\"\u003e    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e themeCss\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e.\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ethemes\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eclassName\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e{\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ethemeVars\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ejoin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e}\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"22\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"23\"\u003e    css \u003cspan class=\"token operator\"\u003e+=\u003c/span\u003e themeCss\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"24\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"25\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"26\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e css\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"27\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"28\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"29\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e themeCss \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003egetThemeCss\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003elightTheme\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"30\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"31\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eDocument\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"32\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"33\"\u003e    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHtml\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003elang\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003een\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"34\"\u003e\u003cspan class=\"token plain-text\"\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHead\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"35\"\u003e\u003cspan class=\"token plain-text\"\u003e        \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estyle\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eid\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003estitches\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003edangerouslySetInnerHTML\u003c/span\u003e\u003cspan class=\"token script language-javascript\"\u003e\u003cspan class=\"token script-punctuation punctuation\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e __html\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003egetCssText\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e themeCss \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"36\"\u003e\u003cspan class=\"token plain-text\"\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHead\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"37\"\u003e\u003cspan class=\"token plain-text\"\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ebody\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"38\"\u003e\u003cspan class=\"token plain-text\"\u003e        \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eMain\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"39\"\u003e\u003cspan class=\"token plain-text\"\u003e        \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eNextScript\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"40\"\u003e\u003cspan class=\"token plain-text\"\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ebody\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"41\"\u003e\u003cspan class=\"token plain-text\"\u003e    \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHtml\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"42\"\u003e  \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line line-number\" line=\"43\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n","title":"Next.js/Stitches: Handling Flash of Default Theme","date":"2023-05-26"}},"__N_SSG":true},"page":"/posts/[...markdownPath]","query":{"markdownPath":["2023","handling-flash-of-default-theme"]},"buildId":"98plFlVvyL9MQqcBiXih2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>